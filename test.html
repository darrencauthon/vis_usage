<html>
    <head>
        <script type="text/javascript" src="vis.js"></script>
    </head>
    <body>

    <div id="mynetwork"></div>

    <script type="text/javascript">

            var data = 
[
  {
    "sentence": "Jack and Jill went up the hill.", 
    "tree": {
      "ROOT": [
        {
          "index": 4, 
          "token": "went", 
          "label": "VERB", 
          "pos": "VBD", 
          "tree": {
            "nsubj": [
              {
                "index": 1, 
                "token": "Jack", 
                "label": "NOUN", 
                "pos": "NNP", 
                "tree": {
                  "cc": [
                    {
                      "index": 2, 
                      "token": "and", 
                      "label": "CONJ", 
                      "pos": "CC"
                    }
                  ], 
                  "conj": [
                    {
                      "index": 3, 
                      "token": "Jill", 
                      "label": "NOUN", 
                      "pos": "NNP"
                    }
                  ]
                }
              }
            ], 
            "prep": [
              {
                "index": 5, 
                "token": "up", 
                "label": "PRT", 
                "pos": "RP", 
                "tree": {
                  "pobj": [
                    {
                      "index": 7, 
                      "token": "hill", 
                      "label": "NOUN", 
                      "pos": "NN", 
                      "tree": {
                        "det": [
                          {
                            "index": 6, 
                            "token": "the", 
                            "label": "DET", 
                            "pos": "DT"
                          }
                        ]
                      }
                    }
                  ]
                }
              }
            ], 
            "punct": [
              {
                "index": 8, 
                "token": ".", 
                "label": ".", 
                "pos": "."
              }
            ]
          }
        }
      ]
    }
  }
];

var parse = function(data){
    var results = [];
    for(var key in data)
    {
        var value = data[key];

	if (typeof(value) == 'object')
	{
            var theseResults = parse(value);
	    value.children = [];
	    for(var i = 0; i < theseResults.length; i++){
	        results.push(theseResults[i]);
		if (theseResults[i].parent == undefined)
                    theseResults[i].parent = value.index > 0 ? value : null;
	        value.children.push(theseResults[i]);
	    }
	    if (value.index != undefined){
		results.push(value);
	    }
        }
	else if (Array.isArray(value))
	    for(var i = 0; i < value.length; i++)
	    {
	        var theseResults = parse(value[index]);
	        for(var i = 0; i < theseResults.length; i++){
	            results.push(theseResults[i]);
	        }
            }
    }
    return results;
};

var data = data[0];
var results = parse(data);
for(var i = 0; i < results; i++){
    results[i].tree = undefined;
}
console.log(results);

            // create an array with nodes
            var nodes = new vis.DataSet([]);
            for(var i = 0; i < results.length; i++)
                nodes.add({id: results[i].index, label: results[i].token});

            // create an array with edges
            var edges = new vis.DataSet([]);
            for(var i = 0; i < results.length; i++)
	        if (results[i].parent != undefined)
                    edges.add({from: results[i].parent.index, to: results[i].index});

            // create a network
            var container = document.getElementById('mynetwork');
            var data = {
                nodes: nodes,
                edges: edges
            };
            var options = {};
            var network = new vis.Network(container, data, options);

        </script>
    </body>
</html>
